## ç›®æ ‡
è®©ç”¨æˆ·å¯ä»¥çµæ´»åˆ›å»º**è‡ªå®šä¹‰ Agent å·¥ä½œæµ**ï¼Œåªé€‰æ‹©éœ€è¦çš„ Agent ç»„åˆï¼Œä¾‹å¦‚ï¼š
- **ç®€å•åœºæ™¯**ï¼šåªè¦"å¤§çº²ç”Ÿæˆ â†’ å¤§çº²å®¡æ ¸" â†’ ç»“æŸ
- **ä¸­ç­‰åœºæ™¯**ï¼š"è°ƒç ” â†’ å†™ä½œ â†’ å®¡æ ¡" â†’ ç»“æŸ
- **å¤æ‚åœºæ™¯**ï¼š"è°ƒç ” â†’ å¤§çº² â†’ å†™ä½œ â†’ å®¡æ ¡ â†’ ç¿»è¯‘ â†’ æ ¼å¼åŒ–"

## æ ¸å¿ƒå¢å¼ºåŠŸèƒ½

### 1. å·¥ä½œæµæ¨¡æ¿ç³»ç»Ÿ
**åŠŸèƒ½ï¼š** æä¾›é¢„è®¾æ¨¡æ¿ + æ”¯æŒè‡ªå®šä¹‰

**é¢„è®¾æ¨¡æ¿ï¼š**
- `outline-only` - ä»…å¤§çº²ï¼ˆå¤§çº²ç”Ÿæˆ â†’ å¤§çº²å®¡æ ¸ï¼‰
- `quick-write` - å¿«é€Ÿå†™ä½œï¼ˆå†™ä½œ â†’ å®¡æ ¡ï¼‰
- `full-content` - å®Œæ•´åˆ›ä½œï¼ˆè°ƒç ” â†’ å¤§çº² â†’ å†™ä½œ â†’ å®¡æ ¡ï¼‰
- `multilang` - å¤šè¯­è¨€ï¼ˆå†™ä½œ â†’ ç¿»è¯‘ â†’ å®¡æ ¡ï¼‰
- `custom` - å®Œå…¨è‡ªå®šä¹‰

**å®ç°æ–¹å¼ï¼š**
```yaml
# æ¨¡æ¿å®šä¹‰
templates:
  outline-only:
    name: "ä»…ç”Ÿæˆå¤§çº²"
    steps:
      - agent_type: "planner"
        role: "outline_generator"
      - agent_type: "reviewer"
        role: "outline_reviewer"
        
  quick-write:
    name: "å¿«é€Ÿå†™ä½œ"
    steps:
      - agent_type: "writer"
      - agent_type: "reviewer"
```

### 2. Agent è§’è‰²ç³»ç»Ÿ
**åŠŸèƒ½ï¼š** åŒä¸€ Agent ç±»å‹æ”¯æŒä¸åŒè§’è‰²

**ç¤ºä¾‹ï¼š**
- `reviewer` Agent å¯ä»¥æ‰®æ¼”ï¼š
  - `outline_reviewer` - ä¸“é—¨å®¡æ ¸å¤§çº²
  - `content_reviewer` - å®¡æ ¸æ­£æ–‡å†…å®¹
  - `grammar_reviewer` - ä»…è¯­æ³•æ£€æŸ¥

**å®ç°æ–¹å¼ï¼š**
```yaml
steps:
  - id: "outline_review"
    agent_type: "reviewer"
    role: "outline_reviewer"  # æ–°å¢ role å­—æ®µ
    system_prompt_override: "ä½ æ˜¯å¤§çº²å®¡æ ¸ä¸“å®¶ï¼Œä¸“æ³¨äºè¯„ä¼°å¤§çº²ç»“æ„å’Œé€»è¾‘..."
```

### 3. å¯è§†åŒ–å·¥ä½œæµæ„å»ºå™¨
**åŠŸèƒ½ï¼š** å‰ç«¯æ‹–æ‹½å¼æ„å»ºå·¥ä½œæµ

**ç•Œé¢è®¾è®¡ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¯ç”¨ Agent                å·¥ä½œæµç”»å¸ƒ    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ Writer   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ ğŸ‘ Reviewer â”‚  â”‚ Planner â”‚              â”‚
â”‚ ğŸ“‹ Planner  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â”‚
â”‚ ğŸŒ Translatorâ”‚      â†“                   â”‚
â”‚ ğŸ” Researcherâ”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ ğŸ“Š Analyzer â”‚  â”‚ Reviewerâ”‚             â”‚
â”‚ ğŸ¨ Formatter â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. åŠ¨æ€æ­¥éª¤é…ç½®
**åŠŸèƒ½ï¼š** æ¯ä¸ªæ­¥éª¤å¯å•ç‹¬é…ç½®

**é…ç½®é¡¹ï¼š**
- Agent ç±»å‹å’Œè§’è‰²
- è‡ªå®šä¹‰ System Prompt
- è¾“å…¥/è¾“å‡ºæ˜ å°„
- è´¨é‡æ£€æŸ¥é˜ˆå€¼
- æ˜¯å¦éœ€è¦å®¡æ‰¹
- é‡è¯•ç­–ç•¥

**ç¤ºä¾‹ï¼š**
```yaml
steps:
  - id: "outline"
    agent_type: "planner"
    role: "outline_generator"
    config:
      system_prompt: "ä½ æ˜¯ä¸“ä¸šçš„å¤§çº²è§„åˆ’å¸ˆ..."
      temperature: 0.7
      max_tokens: 2000
    input:
      topic: "{{user_input.topic}}"
      requirements: "{{user_input.requirements}}"
    output: "outline"
    quality_check:
      min_score: 80
      
  - id: "outline_review"
    agent_type: "reviewer"
    role: "outline_reviewer"
    depends_on: ["outline"]
    input:
      content: "{{outline}}"
      check_type: "structure"
    output: "reviewed_outline"
    approval_required: true  # å¤§çº²å®¡æ ¸éœ€è¦äººå·¥ç¡®è®¤
```

### 5. å·¥ä½œæµå¿«é€Ÿåˆ›å»º API
**åŠŸèƒ½ï¼š** ç®€åŒ–åˆ›å»ºæµç¨‹

**å¿«é€Ÿåˆ›å»ºï¼š**
```bash
POST /api/v1/workflows/quick-create
{
  "template": "outline-only",
  "name": "æˆ‘çš„å¤§çº²å·¥ä½œæµ",
  "config": {
    "topic": "AI æŠ€æœ¯",
    "quality_threshold": 85
  }
}
```

**è‡ªå®šä¹‰åˆ›å»ºï¼š**
```bash
POST /api/v1/workflows/custom-create
{
  "name": "è‡ªå®šä¹‰å·¥ä½œæµ",
  "agent_chain": [
    {
      "agent_type": "planner",
      "role": "outline_generator"
    },
    {
      "agent_type": "reviewer",
      "role": "outline_reviewer",
      "approval_required": true
    }
  ]
}
```

### 6. Agent èƒ½åŠ›ç›®å½•
**åŠŸèƒ½ï¼š** å±•ç¤ºæ‰€æœ‰å¯ç”¨ Agent åŠå…¶èƒ½åŠ›

**èƒ½åŠ›æè¿°ï¼š**
```yaml
agent_capabilities:
  planner:
    roles:
      - name: "outline_generator"
        description: "ç”Ÿæˆæ–‡ç« å¤§çº²"
        input: ["topic", "requirements"]
        output: ["outline"]
      - name: "task_planner"
        description: "ä»»åŠ¡åˆ†è§£è§„åˆ’"
        input: ["goal", "constraints"]
        output: ["task_plan"]
        
  reviewer:
    roles:
      - name: "outline_reviewer"
        description: "å®¡æ ¸å¤§çº²ç»“æ„"
        input: ["outline"]
        output: ["review_result", "suggestions"]
      - name: "content_reviewer"
        description: "å®¡æ ¸æ­£æ–‡å†…å®¹"
        input: ["content"]
        output: ["review_result", "corrections"]
```

## å®æ–½æ­¥éª¤

### é˜¶æ®µ 1: æ ¸å¿ƒæ•°æ®æ¨¡å‹æ‰©å±•
- æ‰©å±• `StepDefinition` å¢åŠ  `role` å­—æ®µ
- åˆ›å»º `WorkflowTemplate` æ¨¡å‹
- åˆ›å»º `AgentCapability` é…ç½®

### é˜¶æ®µ 2: å·¥ä½œæµæ¨¡æ¿ç³»ç»Ÿ
- å®ç°é¢„è®¾æ¨¡æ¿åŠ è½½
- å®ç°è‡ªå®šä¹‰æ¨¡æ¿ä¿å­˜
- å®ç°æ¨¡æ¿å®ä¾‹åŒ–

### é˜¶æ®µ 3: Agent è§’è‰²æ”¯æŒ
- æ‰©å±• Agent åˆ›å»ºé€»è¾‘æ”¯æŒè§’è‰²
- å®ç°è§’è‰²ç‰¹å®šçš„ System Prompt
- æ›´æ–° Registry æ”¯æŒè§’è‰²æŸ¥è¯¢

### é˜¶æ®µ 4: API ç«¯ç‚¹
- `POST /workflows/quick-create` - å¿«é€Ÿåˆ›å»º
- `POST /workflows/custom-create` - è‡ªå®šä¹‰åˆ›å»º
- `GET /workflows/templates` - è·å–æ¨¡æ¿åˆ—è¡¨
- `GET /agents/capabilities` - è·å–èƒ½åŠ›ç›®å½•

### é˜¶æ®µ 5: å‰ç«¯æ„å»ºå™¨ï¼ˆå¯é€‰ï¼‰
- æ‹–æ‹½å¼ Agent é€‰æ‹©
- å¯è§†åŒ–æµç¨‹ç¼–è¾‘
- å®æ—¶é¢„è§ˆ

## ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯ 1: åªè¦å¤§çº²
```yaml
name: "å¤§çº²å·¥ä½œæµ"
steps:
  - id: "outline"
    agent_type: "planner"
    role: "outline_generator"
    input:
      topic: "{{user_input.topic}}"
      
  - id: "review_outline"
    agent_type: "reviewer"
    role: "outline_reviewer"
    depends_on: ["outline"]
    approval_required: true
```

### åœºæ™¯ 2: è°ƒç ” + å†™ä½œ
```yaml
name: "è°ƒç ”å†™ä½œ"
steps:
  - id: "research"
    agent_type: "researcher"
    
  - id: "writing"
    agent_type: "writer"
    depends_on: ["research"]
```

### åœºæ™¯ 3: å®Œå…¨è‡ªå®šä¹‰
```yaml
name: "æˆ‘çš„å·¥ä½œæµ"
steps:
  - agent_type: "planner"
  - agent_type: "writer"
  - agent_type: "translator"
  - agent_type: "formatter"
```

## é¢„æœŸæ•ˆæœ
- âœ… ç”¨æˆ·å¯è‡ªç”±ç»„åˆä»»æ„ Agent
- âœ… é¢„è®¾æ¨¡æ¿å¿«é€Ÿå¯åŠ¨
- âœ… æ”¯æŒ Agent è§’è‰²å®šåˆ¶
- âœ… å®Œå…¨çµæ´»å¯æ‰©å±•

æ˜¯å¦å¼€å§‹å®æ–½æ­¤æ–¹æ¡ˆï¼Ÿ